# ShackMate Antenna Switch (RCS-8/RCS-10) - Feature Summary

A professional-grade antenna switching solution for amateur radio operators using Icom equipment with CI-V capability. Built on ESP32-S3 platform with modern web interface.

## ğŸ¯ **Core Features**

### **ğŸ“¡ Antenna Control & Management**

- **8-Port Antenna Switching** - Controls up to 8 antenna ports (RCS-10) or 5 ports (RCS-8)
- **Per-Antenna Configuration** - Each antenna has persistent storage for:
  - TYPE (Beam, Dipole, Loop, Vertical, etc.)
  - STYLE (Yagi, Log Periodic, Quad, etc.)
  - POL (Horizontal, Vertical, LHCP, RHCP, etc.)
  - MFG (Manufacturer selection)
  - Band Pattern (14 amateur radio bands: 160m-23cm)
  - Enable/Disable state
- **Custom Antenna Names** - User-configurable names for each antenna port
- **Real-time Status Display** - Shows selected antenna, TX/RX state, and antenna details

### **ğŸ”„ CI-V Integration**

- **Icom Radio Integration** - Full CI-V protocol support for seamless radio control
- **Automatic Antenna Selection** - Radio can automatically switch antennas via CI-V commands
- **RCS Type Detection** - Supports both RCS-8 and RCS-10 switch models
- **Device Number Configuration** - Multiple switches can coexist (Device 1-4)
- **Bidirectional Communication** - Changes from radio or web interface sync automatically

### **ğŸŒ Web Interface**

- **Professional Web UI** - Modern, responsive interface accessible from any device
- **Three Main Pages:**
  - **Info Page** - Device status and network information
  - **Config Page** - Setup antenna names, RCS type, device settings
  - **Switch Page** - Real-time antenna selection and band control
- **Real-time Synchronization** - All connected clients stay in sync via WebSocket
- **Mobile Friendly** - Works on computers, tablets, and smartphones

### **ğŸ’¾ Persistence & Storage**

- **ESP32 NVS Storage** - All settings stored in device flash memory
- **Cross-Session Persistence** - Settings survive power cycles and firmware updates
- **Shared Configuration** - All users see the same antenna configurations
- **Automatic Backup** - Configuration automatically saved on changes

### **ğŸ›ï¸ Interactive Controls**

- **Visual Antenna Selection** - Click to select active antenna
- **Band Pattern Control** - Click LEDs to set which bands each antenna supports
- **Tuner Control** - Toggle tuner on/off per antenna
- **Long-press Actions** - Hold antenna buttons to enable/disable ports
- **Dropdown Menus** - Easy selection of antenna characteristics
- **Dynamic Visibility** - UI adapts to RCS-8 vs RCS-10 configuration

### **ğŸ”§ Hardware Platform**

- **M5Stack AtomS3** - Compact ESP32-S3 based controller
- **WiFi Connectivity** - Built-in WiFi with WiFiManager for easy setup
- **WebSocket Server** - Real-time communication on port 4000
- **Status LED** - RGB LED shows connection and operational status
- **Physical Button** - Hardware button for device interaction

### **âš™ï¸ Advanced Features**

- **Auto-save Configuration** - Changes automatically saved without manual action
- **Error Handling** - Robust error handling and recovery
- **Debug Console Functions** - Browser console commands for troubleshooting
- **Firmware Updates** - OTA (Over-The-Air) update capability
- **Network Discovery** - mDNS support for easy device discovery
- **Restore Defaults** - Factory reset functionality

### **ğŸ”Œ Connectivity & Protocols**

- **WebSocket Protocol** - Real-time bidirectional communication
- **HTTP Server** - Serves web interface and handles configuration
- **CI-V Serial** - Direct connection to Icom radio CI-V bus
- **WiFi Manager** - Captive portal for initial WiFi setup
- **JSON API** - Structured data exchange for all operations

### **ğŸ“± User Experience**

- **Zero Configuration** - Works out of the box with sensible defaults
- **Intuitive Interface** - Easy to understand and operate
- **Visual Feedback** - Clear indication of antenna states and selections
- **Responsive Design** - Adapts to different screen sizes
- **Consistent State** - All clients show identical information
- **Professional Appearance** - Clean, modern design suitable for shack use

### **ğŸ›¡ï¸ Reliability Features**

- **Persistent Storage** - Configuration survives power outages
- **Automatic Reconnection** - WebSocket auto-reconnects on connection loss
- **State Synchronization** - Prevents conflicts between multiple clients
- **Input Validation** - Prevents invalid configurations
- **Graceful Degradation** - Continues working even if some features fail

## ğŸ—ï¸ **Project Structure**

```
ShackMate-Switch-RCS-10/
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ SMCIV/              # CI-V protocol library
â”‚       â”œâ”€â”€ SMCIV.cpp
â”‚       â””â”€â”€ SMCIV.h
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main.cpp            # Main firmware code
â”œâ”€â”€ data/                   # Web interface files
â”‚   â”œâ”€â”€ index.html          # Info page
â”‚   â”œâ”€â”€ config.html         # Configuration page
â”‚   â”œâ”€â”€ switch.html         # Antenna control page
â”‚   â”œâ”€â”€ antenna.js          # Main JavaScript logic
â”‚   â”œâ”€â”€ antenna.css         # Styling
â”‚   â””â”€â”€ favicon.ico
â”œâ”€â”€ platformio.ini          # Build configuration
â””â”€â”€ README.md
```

## ğŸš€ **Getting Started**

1. **Hardware Setup** - Connect M5Stack AtomS3 to RCS switch CI-V bus
2. **First Boot** - Device creates WiFi hotspot for initial configuration
3. **WiFi Setup** - Connect to hotspot and configure WiFi credentials
4. **Web Access** - Navigate to device IP address to access web interface
5. **Configuration** - Set RCS type, antenna names, and device settings
6. **Operation** - Use web interface or CI-V commands to control antennas

## ğŸ”§ **Technical Specifications**

- **Platform**: ESP32-S3 (M5Stack AtomS3)
- **Memory**: 8MB Flash, 320KB RAM
- **Connectivity**: WiFi 802.11 b/g/n
- **Interface**: WebSocket (port 4000), HTTP (port 80)
- **Protocol**: Icom CI-V compatible
- **Storage**: NVS (Non-Volatile Storage) for persistence
- **Framework**: Arduino/ESP-IDF
- **Web Tech**: HTML5, CSS3, JavaScript, SVG graphics

---

**Project**: ShackMate Antenna Switch Control System  
**Version**: 2.0  
**Platform**: PlatformIO + ESP32-S3  
**License**: [Specify License]  
**Author**: [Author Name]
